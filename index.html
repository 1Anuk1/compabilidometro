<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compatibilidometro</title>
    <link rel="stylesheet" href="estilo.css">
    <link rel="icon" type="image/x-icon" href="lovemeter.png">
</head>
<body>
    <h1 id = "titulo">游눕Compatibilidometro游눕</h1>
         <h3 id= "descripcion">Descubre cu치n compatible eres con esa persona especial游땘 </h3>
    <div class="contenedor">
        
        <section id="persona 1" style="text-align: left;">
            <form id="formulario1">
                <h2>Persona 1</h2>
                <label for="Nombre1">Nombre:</label>
                <input type="text" id="Nombre1" name="Nombre1" required>
                
                <label for="Edad1">Edad:</label>
                <input type="number" id="Edad1" name="Edad1" required>

                <label for="foto1">Foto: (opcional)</label>
                <input type="file" id="foto1" name="foto1" accept="image/*">

                <label for="frio/calor1">Prefieres el frio o el calor</label>
                <select name="frio/calor1" id="frio/calor1">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="frio">Frio</option>
                    <option value="calor">Calor</option>
                </select>

                <label for="dulce/salado1">쯇refieres dulce o salado?</label>
                <select name="dulce/salado1" id="dulce/salado1">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="dulce">Dulce</option>
                    <option value="salado">Salado</option>
                </select>

                <label for="salir/casa1">쯇refieres salir o quedarte en casa?</label>
                <select name="salir/casa1" id="salir/casa1">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="salir">Salir</option>
                    <option value="casa">Quedarse en casa</option>
                </select>

                <label for="apple/android1">쯇refieres Apple o Android?</label>
                <select name="apple/android1" id="apple/android1">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="apple">Apple</option>
                    <option value="android">Android</option>
                </select>
                
                <label for="tipopeli1">Tipo de pelicula preferida</label>
                <select name="tipopeli1" id="tipopeli1">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="accion">Accion</option>
                    <option value="comedia">Comedia</option>
                    <option value="terror">Terror</option>
                    <option value="drama">Drama</option>
                </select>

                <label for="CMM1">쮺iudad, Mar o monta침a?</label>
                <select name="CMM1" id="CMM1">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="ciudad">Ciudad</option>
                    <option value="mar">Mar</option>
                    <option value="monta침a">Monta침a</option>
                </select>

                <label for="casarse/relacionarse1">쯇refieres casarte o una relacion abierta?</label>
                <select name="casarse/relacionarse1" id="casarse/relacionarse1">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="casarse">Casarse</option>
                    <option value="relacionarse">Relacion abierta</option>
                </select>

                <label for="pasatiempo1">쮺ual es tu pasatiempo favorito?</label>
                <select name="pasatiempo1" id="pasatiempo1">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="musica">Escuchar musica</option>
                    <option value="videojuegos">Videojuegos</option>
                    <option value="series">Ver series</option>
                    <option value="leer">Leer</option>
                </select>
            </form>

        </section>
        <section id="persona 2" style="text-align: right;">
            <form id="formulario2">
                <h2>Persona 2</h2>

                <label for="Nombre2">Nombre:</label>
                <input type="text" id="Nombre2" name="Nombre2" required>
                
                <label for="Edad2">Edad:</label>
                <input type="number" id="Edad2" name="Edad2" required>

                <label for="foto2">Foto: (opcional)</label>
                <input type="file" id="foto2" name="foto2" accept="image/*">

                <label for="frio/calor2">Prefieres el frio o el calor</label>
                <select name="frio/calor2" id="frio/calor2">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="frio">Frio</option>
                    <option value="calor">Calor</option>
                </select>

                <label for="dulce/salado2">쯇refieres dulce o salado?</label>
                <select name="dulce/salado2" id="dulce/salado2">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="dulce">Dulce</option>
                    <option value="salado">Salado</option>
                </select>

                <label for="salir/casa2">쯇refieres salir o quedarte en casa?</label>
                <select name="salir/casa2" id="salir/casa2">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="salir">Salir</option>
                    <option value="casa">Quedarse en casa</option>
                </select>

                <label for="apple/android2">쯇refieres Apple o Android?</label>
                <select name="apple/android2" id="apple/android2">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="apple">Apple</option>
                    <option value="android">Android</option>
                </select>

                <label for="tipopeli2">Tipo de pelicula preferida</label>
                <select name="tipopeli2" id="tipopeli2">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="accion">Accion</option>
                    <option value="comedia">Comedia</option>
                    <option value="terror">Terror</option>
                    <option value="drama">Drama</option>
                </select>

                <label for="CMM2">쮺iudad, Mar o monta침a?</label>
                <select name="CMM2" id="CMM2">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="ciudad">Ciudad</option>
                    <option value="mar">Mar</option>
                    <option value="monta침a">Monta침a</option>
                </select>

                <label for="casarse/relacionarse2">쯇refieres casarte o una relacion abierta?</label>
                <select name="casarse/relacionarse2" id="casarse/relacionarse2">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="casarse">Casarse</option>
                    <option value="relacionarse">Relacion abierta</option>
                </select>

                <label for="pasatiempo2">쮺ual es tu pasatiempo favorito?</label>
                <select name="pasatiempo2" id="pasatiempo2">
                    <option disabled selected>Selecciona una opci칩n</option>
                    <option value="musica">Escuchar musica</option>
                    <option value="videojuegos">Videojuegos</option>
                    <option value="series">Ver series</option>
                    <option value="leer">Leer</option>
                </select>
            </form>
        </section>
    </div>

    <div class="boton-centro">
      <button id="boton">Calcular</button>
    </div>

    <div id="resultado"></div>
    <audio id="audio"></audio>
    <audio id="audioResultado"></audio>
      <div 
       class="modal">
      </div>
    <div id="modal" class="modal">
  <div class="modal-contenido" id="modal-contenido">
    <span class="cerrar" id="cerrar-modal" style="display:inline-flex;align-items:center;justify-content:center;width:48px;height:48px;font-size:2.5em;cursor:pointer;position:absolute;top:10px;right:10px;z-index:10;">&times;</span>
    <div class="corazon-contenedor">
      <div class="corazon" id="corazon">
        <div id="contador"></div>
        <div id="modal-resultado" style="display:none"></div>
      </div>
    </div>
  </div>
</div>
  </div>
</div>
    <script>
        const formulario1 = document.getElementById('formulario1');
        const formulario2 = document.getElementById('formulario2');
        const Nombre1 = document.getElementById('Nombre1');
        const Nombre2 = document.getElementById('Nombre2');
        const Edad1 = document.getElementById('Edad1');
        const Edad2 = document.getElementById('Edad2');
        const friocalor1 = document.getElementById('frio/calor1');
        const friocalor2 = document.getElementById('frio/calor2');
        const dulcesalado1 = document.getElementById('dulce/salado1');
        const dulcesalado2 = document.getElementById('dulce/salado2');
        const salircasa1 = document.getElementById('salir/casa1');
        const salircasa2 = document.getElementById('salir/casa2');
        const appleandroid1 = document.getElementById('apple/android1');
        const appleandroid2 = document.getElementById('apple/android2');
        const tipopeli1 = document.getElementById('tipopeli1');
        const tipopeli2 = document.getElementById('tipopeli2');
        const CMM1 = document.getElementById('CMM1');
        const CMM2 = document.getElementById('CMM2');
        const casarse_relacionarse1 = document.getElementById('casarse/relacionarse1');
        const casarse_relacionarse2 = document.getElementById('casarse/relacionarse2');
        const pasatiempo1 = document.getElementById('pasatiempo1');
        const pasatiempo2 = document.getElementById('pasatiempo2');
        const foto1 = document.getElementById('foto1');
        const foto2 = document.getElementById('foto2');
        const boton = document.getElementById('boton');
        const divResultado = document.getElementById('resultado');
        const audio = document.getElementById('audioResultado');
        const modal = document.getElementById('modal');
        const modalResultado = document.getElementById('modal-resultado');
        const cerrarModal = document.getElementById('cerrar-modal');
        const contadorDiv = document.getElementById('contador');

        boton.addEventListener('click', (e) => {
            e.preventDefault();

            const campos = [
                Nombre1, Edad1, friocalor1, dulcesalado1, salircasa1, appleandroid1, tipopeli1, CMM1, casarse_relacionarse1, pasatiempo1,
                Nombre2, Edad2, friocalor2, dulcesalado2, salircasa2, appleandroid2, tipopeli2, CMM2, casarse_relacionarse2, pasatiempo2
            ];
            let camposVacios = campos.some(campo => campo.value === "" || campo.value === undefined || campo.value === null || campo.value === "Selecciona una opci칩n");
            if (camposVacios) {
                alert("Por favor, rellena todos los campos antes de calcular la compatibilidad.");
                return;
            }

            let resultado = 0;
            const nombrePersona1 = Nombre1.value;
            const nombrePersona2 = Nombre2.value;

            // ----------- Comparaci칩n de edades -----------
            const edad1 = parseInt(Edad1.value);
            const edad2 = parseInt(Edad2.value);
            const difEdad = Math.abs(edad1 - edad2);
            if (difEdad <= 3) {
                resultado += 20;
            } else if (difEdad <= 6) {
                resultado += 15;
            } else if (difEdad > 10) {
                resultado += 5;
            }

            // ----------- Team fr칤o o calor -----------
            if (friocalor1.value === friocalor2.value) {
                resultado += 10;
            } else {
                resultado += 2;
            }

            // ----------- Dulce o salado -----------
            if (dulcesalado1.value === dulcesalado2.value) {
                resultado += 5;
            } else {
                resultado += 1;
            }

            // ----------- Salir o estar en casa -----------
            if (salircasa1.value === salircasa2.value) {
                resultado += 10;
            } else {
                resultado += 4;
            }

            // ----------- Apple o Android -----------
            if (appleandroid1.value === appleandroid2.value) {
                resultado += 5;
            } else {
                resultado += 3;
            }

            // ----------- Tipo de peli favorito -----------
            if (tipopeli1.value === tipopeli2.value) {
                resultado += 5;
            } else {
                resultado += 2;
            }

            // ----------- Ciudad, mar o monta침a -----------
            if (CMM1.value === CMM2.value) {
                resultado += 10;
            } else {
                // Variaciones
                const cmmSet = new Set([CMM1.value, CMM2.value]);
                if (cmmSet.has('ciudad') && cmmSet.has('monta침a')) {
                    resultado += 3;
                } else if (cmmSet.has('ciudad') && cmmSet.has('mar')) {
                    resultado += 6;
                } else if (cmmSet.has('monta침a') && cmmSet.has('mar')) {
                    resultado += 8;
                }
            }

            // ----------- Casarse o relaci칩n libre -----------
            if (casarse_relacionarse1.value === casarse_relacionarse2.value) {
                resultado += 20;
            } else {
                resultado -= 20;
            }

            // ----------- Pasatiempo -----------
            if (pasatiempo1.value === pasatiempo2.value) {
                resultado += 15;
            } else {
                const pasatiempos = [pasatiempo1.value, pasatiempo2.value];
                if (pasatiempos.includes('leer') && pasatiempos.includes('musica')) {
                    resultado += 8;
                } else if (pasatiempos.includes('videojuegos') && pasatiempos.includes('series')) {
                    resultado += 10;
                } else if (pasatiempos.includes('musica') && pasatiempos.includes('series')) {
                    resultado += 8;
                } else {
                    resultado += 5;
                }
            }

            divResultado.innerText = "";

            //------------------------------Mostrar resultado-----------------------
            modalResultado.style.display = "none";
            contadorDiv.style.display = "block";
            modal.style.display = "block";

            // --- Contador animado ---
            let repeticiones = 80;
            let contador = 0;
            let intervalo = setInterval(() => {
                let numeroRandom = Math.floor(Math.random() * 100) + 1;
                contadorDiv.innerHTML = `<span>Calculando resultado<br><b>${numeroRandom}%</b></span>`;
                contador++;
                if (contador >= repeticiones) {
                    clearInterval(intervalo);
                    contadorDiv.textContent = "";
                    modalResultado.style.display = "block";

        
                    let foto1URL = null;
                    let foto2URL = null;
                    if (foto1.files && foto1.files[0]) {
                        foto1URL = URL.createObjectURL(foto1.files[0]);
                    }
                    if (foto2.files && foto2.files[0]) {
                        foto2URL = URL.createObjectURL(foto2.files[0]);
                    }

                    let resultadoHTML = "";
                    if (foto1URL && foto2URL) {
                        resultadoHTML += `<div style='display:flex;justify-content:center;gap:10px;'>`;
                        resultadoHTML += `<img src='${foto1URL}' alt='Foto 1' style='width:80px;height:80px;border-radius:50%;object-fit:cover;'>`;
                        resultadoHTML += `<span style='font-size:2em;'>+</span>`;
                        resultadoHTML += `<img src='${foto2URL}' alt='Foto 2' style='width:80px;height:80px;border-radius:50%;object-fit:cover;'>`;
                        resultadoHTML += `</div>`;
                    } else if (foto1URL && !foto2URL) {
                        resultadoHTML += `<div style='display:flex;justify-content:center;gap:10px;'>`;
                        resultadoHTML += `<img src='${foto1URL}' alt='Foto 1' style='width:80px;height:80px;border-radius:50%;object-fit:cover;'>`;
                        resultadoHTML += `<span style='font-size:2em;'>+</span>`;
                        resultadoHTML += `<span style='font-size:1.2em;'>${nombrePersona2}</span>`;
                        resultadoHTML += `</div>`;
                    } else if (!foto1URL && foto2URL) {
                        resultadoHTML += `<div style='display:flex;justify-content:center;gap:10px;'>`;
                        resultadoHTML += `<span style='font-size:1.2em;'>${nombrePersona1}</span>`;
                        resultadoHTML += `<span style='font-size:2em;'>+</span>`;
                        resultadoHTML += `<img src='${foto2URL}' alt='Foto 2' style='width:80px;height:80px;border-radius:50%;object-fit:cover;'>`;
                        resultadoHTML += `</div>`;
                    } else {
                        resultadoHTML += `<h2>${nombrePersona1} + ${nombrePersona2}</h2>`;
                    }
                    resultadoHTML += `<h3>El resultado del calculo es de: ${resultado}% compatibles</h3>`;
                    // Bloques condicionales para mensaje personalizado
                    if (resultado >= 90) {
                        // Mensaje para compatibilidad muy alta
                        resultadoHTML += `<p>춰Son almas gemelas!</p>`;
                    } else if (resultado >= 75) {
                        // Mensaje para compatibilidad alta
                        resultadoHTML += `<p>Hacen una muy buena pareja!!</p>`;
                    } else if (resultado >= 50) {
                        // Mensaje para compatibilidad media
                        resultadoHTML += `<p>Deberian de conocerse un poco m치s, intentelo!.</p>`;
                    } else if (resultado >= 20) {
                        // Mensaje para compatibilidad baja
                        resultadoHTML += `<p>Muy baja compatibilidad para ser pareja pero aun pueden ser amigos.</p>`;
                    } else {
                        // Mensaje para compatibilidad muy baja
                         resultadoHTML += `<p>Ustedes son como el agua y el aceite.</p>`;
                    }
                    modalResultado.innerHTML = resultadoHTML;

                    //------------------------------Reproducir sonido-----------------------
                    audio.pause();
                    audio.currentTime = 0;
                    if (resultado >= 90 ) {
                        audio.src = "MarriedLife.mp3";
                    } else if (resultado >= 75 ) {
                        audio.src = "Symphony.mp3";
                    } else if (resultado >= 50 ) {
                        audio.src = "Lease.mp3";
                    } else if (resultado >= 20 ) {
                        audio.src = "diredire.mp3";
                    } else {
                        audio.src = "sad.mp3";
                    }
                    audio.play();
                }
            }, 35);

   
            cerrarModal.onclick = function() {
                modal.style.display = "none";
                audio.pause();
                audio.currentTime = 0;
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none",
                    audio.pause();
                    audio.currentTime = 0;


                }
            }
        });

    </script>

    
</body>
</html>